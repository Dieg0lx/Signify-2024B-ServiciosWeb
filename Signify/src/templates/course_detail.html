{% extends "layout.html" %}

{% block title %}{{ course.name }} - Signify{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/estilosContenidos.css') }}">
    <style>
        #progress-bar-fill {
            width: {{ evaluation.score|round|int }}%;
        }
    </style>
{% endblock %}

{% block content %}
    <h2>{{ course.name }}</h2>
    <p>{{ course.description }}</p>
    
    <div class="progress-section">
        <h3>Tu Progreso</h3>
        <div class="progress-bar">
            <div id="progress-bar-fill" class="progress-bar-fill"></div>
        </div>
        <p>Puntuación actual: {{ evaluation.score|round|int }}%</p>
    </div>

    {% if evaluation.completed %}
        <p>Has completado este curso. ¡Felicidades!</p>
    {% else %}
        <a href="{{ url_for('quiz', course_id=course.id) }}" class="btn">Iniciar Cuestionario</a>
    {% endif %}
{% endblock %}